# The Muslim Non-Profit Show - Podcast Landing Page

A modern, responsive landing page for "The Muslim Non-Profit Show" podcast with an integrated PHP-based CRM system for episode management.

## 🌟 Features

### Landing Page
- **Responsive Design**: Mobile-first approach with glass morphism effects
- **Episode Showcase**: Featured episode player and episode grid
- **Social Links**: Direct links to all podcast platforms
- **Newsletter Integration**: EveryAction form integration
- **Smooth Navigation**: Floating dots navigation with section scrolling

### Episode CRM System
- **Episode Management**: Create, edit, delete, and organize episodes
- **Automatic Sync**: RSS feed monitoring for new episodes
- **Export Functionality**: Automatically updates the main website
- **Draft/Published Status**: Control which episodes appear on the site
- **Password Protection**: Secure admin access

## 🚀 Quick Start

### 1. Clone the Repository
```bash
git clone https://github.com/ashrafatintuitive/tayyab-podcast-landing.git
cd tayyab-podcast-landing
```

### 2. Start Development Server
```bash
npm run dev
# or
python3 -m http.server 8000
```

Visit `http://localhost:8000` to see the landing page.

## 📁 Project Structure

```
tayyab-podcast-landing/
├── index.html              # Main landing page
├── css/
│   └── styles.css         # All styling (modern CSS features)
├── js/
│   ├── main.js           # Core application logic
│   └── episodes.js       # Episode data (auto-generated by CRM)
├── images/               # Image assets
├── podcast-crm/          # Episode management system
│   ├── admin/           # Admin interface
│   ├── api/             # REST API endpoints
│   ├── config/          # Configuration
│   └── data/            # SQLite database
└── CLAUDE.md            # AI assistant instructions
```

## 🔧 CRM System Setup

### Prerequisites
- PHP 7.4+ with SQLite support
- Web server (Apache/Nginx) or PHP's built-in server
- Write permissions for the `podcast-crm/data` directory

### Step 1: Initial Setup
1. Navigate to `https://themuslimnonprofitshow.com/podcast-crm/setup.php`
2. Enter your desired admin password
3. Copy the generated password hash
4. Edit `podcast-crm/config/config.php` and update the hash
5. **Delete `setup.php` for security**

### Step 2: Configuration
Edit `podcast-crm/config/config.php`:

```php
// Admin credentials
define('ADMIN_USERNAME', 'admin');
define('ADMIN_PASSWORD_HASH', 'your_generated_hash_here');

// RSS Feed (already configured)
define('RSS_FEED_URL', 'https://feeds.transistor.fm/the-muslim-non-profit-show');

// Optional: YouTube API
define('YOUTUBE_API_KEY', 'your-api-key');
define('YOUTUBE_CHANNEL_ID', 'your-channel-id');
```

### Step 3: Access Admin Panel
- URL: `https://themuslimnonprofitshow.com/podcast-crm/` (redirects to admin panel)
- Or directly: `https://themuslimnonprofitshow.com/podcast-crm/admin/`
- Default username: `admin`
- Password: What you set in setup

## 📝 Using the CRM

### Adding Episodes Manually

1. Login to the admin panel
2. Click "New Episode"
3. Fill in episode details:
   - Title, Description, Guest info
   - YouTube ID (from URL: `youtube.com/watch?v=ABC123` → `ABC123`)
   - Audio URL (from your podcast host)
   - Tags and key takeaways
4. Save as "Draft" or "Published"
5. Click "Export All" to update the website

### Importing from RSS Feed

**Current RSS Feed**: `https://feeds.libsyn.com/580735/rss` (Libsyn)

1. Click "Sync Sources" in the admin panel
2. The system will import new episodes from your RSS feed
3. Edit imported episodes to add missing details (key takeaways, guest info)
4. Change status from "draft" to "published"
5. Set featured status for the latest episode
6. Click "Export All" to update the website

**Note**: RSS feed URL is configured in `podcast-crm/config/config.php`. The current feed is sourced from the Apple Podcasts listing.

### Featured Episodes
- Only one episode can be featured at a time
- The featured episode appears prominently on the homepage
- Check "Featured" when editing an episode

## 🔐 Security & Accounts

### Default Account
- Username: `admin`
- Password: `admin123` (CHANGE THIS IMMEDIATELY!)

### Changing Password
1. Login to admin panel
2. Click "Change Password"
3. Enter current and new password
4. Copy the generated hash
5. Update `podcast-crm/config/config.php` with the new hash

### Security Best Practices
- Change the default password immediately
- Use a strong password (minimum 8 characters)
- Keep `config/config.php` secure
- Delete `setup.php` after initial setup
- Regularly backup the SQLite database

## 🔄 How CRM Connects to Main Site

The CRM system manages all website content and exports it to JavaScript files for the frontend:

### Complete Data Flow: CRM → Website

```
CRM Database → Export Functions → JavaScript Files → Website Display
     ↓              ↓                    ↓              ↓
Episodes Table → export.php → js/episodes.js → Episode Player
Content JSONs → export-content.php → js/website-data.js → Dynamic Content
```

### 1. Episode Management
- **Storage**: Episodes stored in SQLite database with full metadata
- **Export**: `export.php` generates `js/episodes.js` 
- **Display**: Episode player and grid populated from episodes data
- **Features**: Featured episode selection, tags, key takeaways, publishing status

### 2. Website Content Management
- **Editable Sections**: Hero, Stats, Mission, Social Links, Meta Tags
- **Storage**: Content stored in individual JSON files in `podcast-crm/data/`
- **Export**: `export-content.php` generates `js/website-data.js`
- **Integration**: `main.js` uses `populateWebsiteContent()` to update page dynamically

### 3. Content Areas Managed by CRM
- **Hero Section**: Badge, title, byline, description, CTA button text
- **Stats Section**: Episode count, downloads, rating, countries reached
- **Mission Section**: Title and full mission statement
- **Social Links**: Apple Podcasts, Spotify, YouTube, social media URLs
- **Meta Tags**: SEO title, description, keywords for search engines

### 4. Export Process
- **Manual**: Click "Export All" in admin panel
- **Automatic**: Can be triggered via API for automated workflows
- **Dual Export**: Both episodes and website content export together
- **Cache Busting**: JavaScript files use versioned URLs for immediate updates

### 5. Episode Structure (Auto-Generated)
```javascript
{
  id: 1,
  title: "Episode Title",
  description: "Full description",
  guest: "Guest Name",
  guestTitle: "Guest Title",
  duration: "MM:SS",
  publishDate: "YYYY-MM-DD",
  youtubeId: "YouTube_ID",
  audioUrl: "https://audio.url",
  featured: true/false,
  tags: ["tag1", "tag2"],
  keyTakeaways: ["takeaway1", "takeaway2"]
}
```

## 🚀 Deployment

### Static Hosting (Netlify, Vercel, GitHub Pages)
The main site is static and can be deployed anywhere:
```bash
# Just push to git
git add .
git commit -m "Update site"
git push origin main
```

### CRM Hosting Requirements
The CRM requires PHP hosting:
- Upload the entire `podcast-crm` folder
- Ensure PHP 7.4+ with SQLite
- Set write permissions on `data` directory
- Configure `.htaccess` for security

## 🐛 Troubleshooting

### Episodes Not Showing on Website
1. Check episode status is "published" in CRM
2. Click "Export All" in admin panel
3. Clear browser cache (or update cache-busting version in index.html)
4. Verify `js/episodes.js` was updated

### CRM Login Issues
1. Verify username/password
2. Check PHP session support
3. Ensure cookies are enabled
4. Try incognito/private browsing

### Database Errors
1. Check `podcast-crm/data` directory permissions
2. Verify SQLite PHP extension is enabled
3. Check error logs in `podcast-crm/data`

### Database Initialization
If you need to initialize the database with the current 5 episodes:
1. Visit: `https://themuslimnonprofitshow.com/podcast-crm/simple-init.php?key=init123`
2. This will create tables and populate with episodes matching the current website
3. Delete the initialization file after use for security

### Testing Complete Workflow
1. **Initialize Database**: Use the init script to populate episodes
2. **Access CRM**: Login to admin panel and verify episodes appear
3. **Test Sync**: Click "Sync Sources" to test RSS feed integration
4. **Test Export**: Click "Export All" and verify website updates
5. **Edit Content**: Modify hero/stats/mission content and export
6. **Verify Frontend**: Check that all changes appear on the website

## 📞 Support

For issues or questions:
- Email: hello@tayyabyunus.com
- GitHub Issues: [Create an issue](https://github.com/ashrafatintuitive/tayyab-podcast-landing/issues)

## 📄 License

© 2025 The Muslim Non-Profit Show. All rights reserved.

---

**Built with ❤️ by Tayyab Yunus**
<!-- Last updated: 2025-01-02 -->